<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-135618258-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-135618258-1",{})</script>
<script src="/js/custom.js"></script>

<title data-react-helmet="true">Decorators Reference | MikroORM</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="MikroORM"><meta data-react-helmet="true" name="docsearch:version" content="3.1"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="## Entity Definition"><meta data-react-helmet="true" property="og:description" content="## Entity Definition"><meta data-react-helmet="true" property="og:url" content="https://mikro-orm.io/docs/3.1/decorators">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico">


<link rel="stylesheet" href="/styles.d04a9ee5.css">


<link rel="preload" href="/styles.65ce5485.js" as="script">

<link rel="preload" href="/runtime~main.e6ff1974.js" as="script">

<link rel="preload" href="/main.4836d4ca.js" as="script">

<link rel="preload" href="/1.17a64e7d.js" as="script">

<link rel="preload" href="/2.2e095f5c.js" as="script">

<link rel="preload" href="/3.8e1b729f.js" as="script">

<link rel="preload" href="/1be78505.f3b228ab.js" as="script">

<link rel="preload" href="/171a0aca.66eb5a48.js" as="script">

<link rel="preload" href="/17896441.95600a8b.js" as="script">

<link rel="preload" href="/960a2722.7f9fe922.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}function e(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}var n=window.matchMedia("(prefers-color-scheme: dark)");n.addListener((function(n){null===e()&&t(n.matches?"dark":"")}));var a=e();null!==a?t(a):n.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="MikroORM"><strong></strong></a><a class="navbar__item navbar__link" data-type="versions" href="/versions">3.2.0</a><a class="navbar__item navbar__link" href="/docs/installation">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://join.slack.com/t/mikroorm/shared_invite/enQtNTM1ODYzMzM4MDk3LWM4ZDExMjU5ZDhmNjA2MmM3MWMwZmExNjhhNDdiYTMwNWM0MGY5ZTE3ZjkyZTMzOWExNDgyYmMzNDE1NDI5NjA" title="Chat on Slack">Slack</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/mikro-orm/mikro-orm" title="View on GitHub">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="MikroORM"><strong></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" data-type="versions" href="/versions">3.2.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/installation">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://join.slack.com/t/mikroorm/shared_invite/enQtNTM1ODYzMzM4MDk3LWM4ZDExMjU5ZDhmNjA2MmM3MWMwZmExNjhhNDdiYTMwNWM0MGY5ZTE3ZjkyZTMzOWExNDgyYmMzNDE1NDI5NjA" title="Chat on Slack">Slack</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/mikro-orm/mikro-orm" title="View on GitHub">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="sidebarLogo_3ono"><img src="/img/logo.svg" alt="MikroORM"><strong></strong></div><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/installation">Installation &amp; Usage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/defining-entities">Defining Entities</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/relationships">Modeling Entity Relationships</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/entity-manager">Entity Manager</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/repositories">Entity Repository</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Fundamentals</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/identity-map">Identity Map and Request Context</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/entity-references">Entity References and Reference&lt;T&gt; Wrapper</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/entity-constructors">Using Entity Constructors</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/collections">Collections</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/unit-of-work">Unit of Work</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/transactions">Transactions and Concurrency</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/cascading">Cascading</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/deployment">Deployment</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/3.1/decorators">Decorators Reference</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Advanced Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/nested-populate">Smart Nested Populate</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/query-conditions">Smart Query Conditions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/query-builder">Using Query Builder</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/serializing">Serializing</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/entity-helper">Updating Entity Values</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/property-validation">Property Validation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/lifecycle-hooks">Lifecycle Hooks</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/naming-strategy">Naming Strategy</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/custom-types">Custom Types</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/metadata-providers">Metadata Providers</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/metadata-cache">Metadata Cache</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/debugging">Debugging</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/schema-generator">Schema Generator</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/entity-generator">Entity Generator</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/migrations">Migrations</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/read-connections">Read Replica Connections</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/configuration">Advanced Configuration</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Usage with Different Drivers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/usage-with-sql">Usage with SQL Drivers</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/usage-with-mongo">Usage with MongoDB</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Recipes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/usage-with-nestjs">Usage with NestJS</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/usage-with-js">Usage with Vanilla JS</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/custom-driver">Creating Custom Driver</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.1/multiple-schemas">Using Multiple Schemas</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Example Integrations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" to="https://github.com/mikro-orm/express-ts-example-app" target="_blank" rel="noreferrer noopener" href="https://github.com/mikro-orm/express-ts-example-app">Express + MongoDB + TypeScript</a></li><li class="menu__list-item"><a class="menu__link" to="https://github.com/mikro-orm/nestjs-example-app" target="_blank" rel="noreferrer noopener" href="https://github.com/mikro-orm/nestjs-example-app">NestJS + MySQL + TypeScript</a></li><li class="menu__list-item"><a class="menu__link" to="https://github.com/mikro-orm/nestjs-realworld-example-app" target="_blank" rel="noreferrer noopener" href="https://github.com/mikro-orm/nestjs-realworld-example-app">RealWorld example app (Nest + MySQL)</a></li><li class="menu__list-item"><a class="menu__link" to="https://github.com/mikro-orm/express-js-example-app" target="_blank" rel="noreferrer noopener" href="https://github.com/mikro-orm/express-js-example-app">Express + MongoDB + JavaScript</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><span style="vertical-align:top" class="badge badge--info">Version: 3.1</span><header><h1 class="docTitle_1vWb">Decorators Reference</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="entity-definition"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#entity-definition" title="Direct link to heading">#</a>Entity Definition</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="entity"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#entity" title="Direct link to heading">#</a>@Entity()</h3><p><code>@Entity</code> decorator is used to mark your model classes as entities. Do not use it for
abstract base classes.</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Optional</th><th>Description</th></tr></thead><tbody><tr><td><code>collection</code></td><td><code>string</code></td><td>yes</td><td>Override default collection/table name.</td></tr><tr><td><code>customRepository</code></td><td><code>() =&gt; EntityRepository</code></td><td>yes</td><td>Set custom repository class.</td></tr></tbody></table><blockquote><p>You can also use <code>@Repository()</code> decorator instead of <code>customRepository</code> parameter.</p></blockquote><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-typescript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">Entity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> collection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;authors&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Author</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">implements</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">IdEntity</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">Author</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="entity-properties"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#entity-properties" title="Direct link to heading">#</a>Entity Properties</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="property"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#property" title="Direct link to heading">#</a>@Property()</h3><p><code>@Property()</code> decorator is used to define regular entity property. All following decorators
extend the <code>@Property()</code> decorator, so you can also use its parameters there. </p><table><thead><tr><th>Parameter</th><th>Type</th><th>Optional</th><th>Description</th></tr></thead><tbody><tr><td><code>fieldName</code></td><td><code>string</code></td><td>yes</td><td>Override default property name (see <a href="/docs/3.1/naming-strategy">Naming Strategy</a>).</td></tr><tr><td><code>type</code></td><td><code>string</code> | <code>Type</code></td><td>yes</td><td>Explicitly specify the runtime type (see <a href="/docs/3.1/metadata-providers">Metadata Providers</a> and <a href="/docs/3.1/custom-types">Custom Types</a>).</td></tr><tr><td><code>onUpdate</code></td><td><code>() =&gt; any</code></td><td>yes</td><td>Automatically update the property value every time entity gets updated.</td></tr><tr><td><code>persist</code></td><td><code>boolean</code></td><td>yes</td><td>Set to <code>false</code> to define <a href="/docs/3.1/serializing#shadow-properties">Shadow Property</a>.</td></tr><tr><td><code>hidden</code></td><td><code>boolean</code></td><td>yes</td><td>Set to <code>true</code> to omit the property when <a href="/docs/3.1/serializing">Serializing</a>.</td></tr><tr><td><code>columnType</code></td><td><code>string</code></td><td>yes</td><td>Specify exact database column type for <a href="/docs/3.1/schema-generator">Schema Generator</a>. <strong>(SQL only)</strong></td></tr><tr><td><code>length</code></td><td><code>number</code></td><td>yes</td><td>Length/precision of database column, used for <code>datetime/timestamp/varchar</code> column types for <a href="/docs/3.1/schema-generator">Schema Generator</a>. <strong>(SQL only)</strong></td></tr><tr><td><code>default</code></td><td><code>any</code></td><td>yes</td><td>Specify default column value for <a href="/docs/3.1/schema-generator">Schema Generator</a>. <strong>(SQL only)</strong></td></tr><tr><td><code>unique</code></td><td><code>boolean</code></td><td>yes</td><td>Set column as unique for <a href="/docs/3.1/schema-generator">Schema Generator</a>.. <strong>(SQL only)</strong></td></tr><tr><td><code>nullable</code></td><td><code>boolean</code></td><td>yes</td><td>Set column as nullable for <a href="/docs/3.1/schema-generator">Schema Generator</a>.. <strong>(SQL only)</strong></td></tr><tr><td><code>unsigned</code></td><td><code>boolean</code></td><td>yes</td><td>Set column as unsigned for <a href="/docs/3.1/schema-generator">Schema Generator</a>.. <strong>(SQL only)</strong></td></tr><tr><td><code>version</code></td><td><code>boolean</code></td><td>yes</td><td>Set to true to enable <a href="/docs/3.1/transactions#optimistic-locking">Optimistic Locking</a>. <strong>(SQL only)</strong></td></tr></tbody></table><blockquote><p>You can use property initializers as usual.</p></blockquote><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-typescript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">Property</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">50</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> fieldName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;first_name&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">name</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">Property</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> columnType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;datetime&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> fieldName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;born_date&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">born</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">Property</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> columnType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;tinyint&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">age</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">Property</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">onUpdate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">updatedAt </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">Property</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">registered </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="primarykey"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#primarykey" title="Direct link to heading">#</a>@PrimaryKey()</h3><p><code>@PrimaryKey()</code> decorator is used to define entity&#x27;s unique primary key identifier. </p><blockquote><p>Every entity needs to have exactly one primary key.</p></blockquote><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-typescript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">PrimaryKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">id</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// auto increment PK in SQL drivers</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">PrimaryKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">uuid </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> uuid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">v4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// uuid PK in SQL drivers</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">PrimaryKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">_id</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">ObjectId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ObjectId PK in mongodb driver</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="serializedprimarykey"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#serializedprimarykey" title="Direct link to heading">#</a>@SerializedPrimaryKey()</h3><p>For MongoDB you can define serialized primary key, which will be then used in entity
serialization via <code>JSON.stringify()</code> (through method <code>entity.toJSON()</code>).
You will be able to use it to manipulate with the primary key as string. </p><p>See <a href="/docs/3.1/usage-with-mongo">Usage with MongoDH</a> and <a href="/docs/3.1/serializing">Serializing</a>.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-typescript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">PrimaryKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">ObjectId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">SerializedPrimaryKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">id</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="enum"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#enum" title="Direct link to heading">#</a>@Enum()</h3><p><code>@Enum()</code> decorator can be used for both numeric and string enums. By default enums are
considered numeric, and will be represented in the database schema as <code>tinyint/smallint</code>.
For string enums, if you define the enum in same file, its values will be automatically
sniffed. </p><p>See <a href="/docs/3.1/defining-entities#enums">Defining Entities</a>.</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Optional</th><th>Description</th></tr></thead><tbody><tr><td><code>items</code></td><td><code>number[]</code> | <code>string[]</code> | <code>() =&gt; Dictionary</code></td><td>yes</td><td>Specify enum items explicitly.</td></tr></tbody></table><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-typescript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">Enum</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">MyEnum1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">enum1 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">MyEnum1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">VALUE_1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">Enum</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MyEnum2&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> nullable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">enum2</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">MyEnum2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// MyEnum2 needs to be defined in current file (can be re-exported)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">Enum</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> items</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">enum3 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">Enum</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> items</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;a&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;b&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;c&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">enum4 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;a&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="entity-relationships"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#entity-relationships" title="Direct link to heading">#</a>Entity Relationships</h2><p>All relationship decorators have <code>entity</code>, <code>cascade</code> and <code>eager</code> optional parameters.
If you use the default <code>ReflectMetadataProvider</code>, then <code>entity</code> parameter might be required
You will be warned about it being not defined while required during discovery process if you
use <code>ReflectMetadataProvider</code>. </p><p>You can also use <code>type</code> parameter instead of it - the difference being that <code>type</code> parameter
needs to be string, while in <code>entity</code> parameter you can provide a reference (wrapped in
a callback to overcome issues with circular dependencies) to the entity, which plays nice
with refactoring features in IDEs like WebStorm. </p><blockquote><p>If you explicitly provide <code>entity</code> as a reference, it will enable type checks for other
reference parameters like <code>inversedBy</code> or <code>mappedBy</code>.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="manytoone"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#manytoone" title="Direct link to heading">#</a>@ManyToOne()</h3><p>Many instances of the current Entity refer to One instance of the referred Entity.</p><p>See <a href="/docs/3.1/relationships#manytoone">Defining Entities</a> for more examples.</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Optional</th><th>Description</th></tr></thead><tbody><tr><td><code>entity</code></td><td><code>string</code> | <code>() =&gt; EntityName</code></td><td>yes</td><td>Set target entity type.</td></tr><tr><td><code>cascade</code></td><td><code>Cascade[]</code></td><td>yes</td><td>Set what actions on owning entity should be cascaded to the relationship. Defaults to <code>[Cascade.PERSIST, Cascade.MERGE]</code> (see <a href="/docs/3.1/cascading">Cascading</a>).</td></tr><tr><td><code>eager</code></td><td><code>boolean</code></td><td>yes</td><td>Always load the relationship.</td></tr><tr><td><code>inversedBy</code></td><td><code>(string &amp; keyof T) </code> | <code> (e: T) =&gt; any</code></td><td>yes</td><td>Point to the inverse side property name.</td></tr><tr><td><code>wrappedReference</code></td><td><code>boolean</code></td><td>yes</td><td>Wrap the entity in <a href="/docs/3.1/entity-references"><code>Reference</code> wrapper</a>.</td></tr></tbody></table><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-typescript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">ManyToOne</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">author1</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Author</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// type taken via reflection (TsMorphMetadataProvider)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">ManyToOne</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Author</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// explicit type</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">author2</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Author</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">ManyToOne</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">entity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Author</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> cascade</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token maybe-class-name">Cascade</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">ALL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// options object</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">author3</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Author</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="onetoone"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#onetoone" title="Direct link to heading">#</a>@OneToOne()</h3><p>One instance of the current Entity refers to One instance of the referred Entity.</p><p>See <a href="/docs/3.1/relationships#onetoone">Defining Entities</a> for more examples, including bi-directional 1:1.</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Optional</th><th>Description</th></tr></thead><tbody><tr><td><code>entity</code></td><td><code>string</code> | <code>() =&gt; EntityName</code></td><td>yes</td><td>Set target entity type.</td></tr><tr><td><code>cascade</code></td><td><code>Cascade[]</code></td><td>yes</td><td>Set what actions on owning entity should be cascaded to the relationship. Defaults to <code>[Cascade.PERSIST, Cascade.MERGE]</code> (see <a href="/docs/3.1/cascading">Cascading</a>).</td></tr><tr><td><code>eager</code></td><td><code>boolean</code></td><td>yes</td><td>Always load the relationship.</td></tr><tr><td><code>owner</code></td><td><code>boolean</code></td><td>yes</td><td>Explicitly set as owning side (same as providing <code>inversedBy</code>).</td></tr><tr><td><code>inversedBy</code></td><td><code>(string &amp; keyof T) </code> | <code> (e: T) =&gt; any</code></td><td>yes</td><td>Point to the inverse side property name.</td></tr><tr><td><code>mappedBy</code></td><td><code>(string &amp; keyof T)</code> | <code>(e: T) =&gt; any</code></td><td>yes</td><td>Point to the owning side property name.</td></tr><tr><td><code>wrappedReference</code></td><td><code>boolean</code></td><td>yes</td><td>Wrap the entity in <a href="/docs/3.1/entity-references"><code>Reference</code> wrapper</a>.</td></tr><tr><td><code>orphanRemoval</code></td><td><code>boolean</code></td><td>yes</td><td>Remove the entity when it gets disconnected from the relationship (see <a href="/docs/3.1/cascading#orphan-removal">Cascading</a>).</td></tr><tr><td><code>joinColumn</code></td><td><code>string</code></td><td>yes</td><td>Override default database column name on the owning side (see <a href="/docs/3.1/naming-strategy">Naming Strategy</a>).</td></tr></tbody></table><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-typescript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// when none of `owner/inverseBy/mappedBy` is provided, it will be considered owning side</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">OneToOne</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">bestFriend1</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// side with `inversedBy` is the owning one, to define inverse side use `mappedBy`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">OneToOne</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> inversedBy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;bestFriend1&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> orphanRemoval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">bestFriend2</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// when defining it like this, you need to specifically mark the owning side with `owner: true`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">OneToOne</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token parameter">user</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">bestFriend2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> owner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> orphanRemoval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">bestFriend3</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="onetomany"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#onetomany" title="Direct link to heading">#</a>@OneToMany()</h3><p>One instance of the current Entity has Many instances (references) to the referred Entity.</p><p>See <a href="/docs/3.1/relationships#onetomany">Defining Entities</a> for more examples, including bi-directional 1:m.</p><blockquote><p>You need to initialize the value with <code>Collection&lt;T&gt;</code> instance.</p></blockquote><table><thead><tr><th>Parameter</th><th>Type</th><th>Optional</th><th>Description</th></tr></thead><tbody><tr><td><code>mappedBy</code></td><td><code>(string &amp; keyof T)</code> | <code>(e: T) =&gt; any</code></td><td>no</td><td>Point to the owning side property name.</td></tr><tr><td><code>entity</code></td><td><code>string</code> | <code>() =&gt; EntityName</code></td><td>yes</td><td>Set target entity type.</td></tr><tr><td><code>cascade</code></td><td><code>Cascade[]</code></td><td>yes</td><td>Set what actions on owning entity should be cascaded to the relationship. Defaults to <code>[Cascade.PERSIST, Cascade.MERGE]</code> (see <a href="/docs/3.1/cascading">Cascading</a>).</td></tr><tr><td><code>eager</code></td><td><code>boolean</code></td><td>yes</td><td>Always load the relationship.</td></tr><tr><td><code>orphanRemoval</code></td><td><code>boolean</code></td><td>yes</td><td>Remove the entity when it gets disconnected from the connection (see <a href="/docs/3.1/cascading#orphan-removal">Cascading</a>).</td></tr><tr><td><code>orderBy</code></td><td><code>{ [field: string]: QueryOrder }</code></td><td>yes</td><td>Set default ordering condition.</td></tr><tr><td><code>joinColumn</code></td><td><code>string</code></td><td>yes</td><td>Override default database column name on the owning side (see <a href="/docs/3.1/naming-strategy">Naming Strategy</a>).</td></tr><tr><td><code>inverseJoinColumn</code></td><td><code>string</code></td><td>yes</td><td>Override default database column name on the inverse side (see <a href="/docs/3.1/naming-strategy">Naming Strategy</a>).</td></tr></tbody></table><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-typescript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">OneToMany</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token parameter">book</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">author</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">books1 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Collection</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">Book</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">OneToMany</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> mappedBy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;author&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> cascade</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token maybe-class-name">Cascade</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">ALL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">books2 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Collection</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">Book</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// target entity type can be read via `TsMorphMetadataProvider` too</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="manytomany"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#manytomany" title="Direct link to heading">#</a>@ManyToMany()</h3><p>Many instances of the current Entity refers to Many instances of the referred Entity.</p><p>See <a href="/docs/3.1/relationships#manytomany">Defining Entities</a> for more examples, including bi-directional m:n.</p><blockquote><p>You need to initialize the value with <code>Collection&lt;T&gt;</code> instance.</p></blockquote><table><thead><tr><th>Parameter</th><th>Type</th><th>Optional</th><th>Description</th></tr></thead><tbody><tr><td><code>entity</code></td><td><code>string</code> | <code>() =&gt; EntityName</code></td><td>yes</td><td>Set target entity type.</td></tr><tr><td><code>cascade</code></td><td><code>Cascade[]</code></td><td>yes</td><td>Set what actions on owning entity should be cascaded to the relationship. Defaults to <code>[Cascade.PERSIST, Cascade.MERGE]</code> (see <a href="/docs/3.1/cascading">Cascading</a>).</td></tr><tr><td><code>eager</code></td><td><code>boolean</code></td><td>yes</td><td>Always load the relationship.</td></tr><tr><td><code>owner</code></td><td><code>boolean</code></td><td>yes</td><td>Explicitly set as owning side (same as providing <code>inversedBy</code>).</td></tr><tr><td><code>inversedBy</code></td><td><code>(string &amp; keyof T) </code> | <code> (e: T) =&gt; any</code></td><td>yes</td><td>Point to the inverse side property name.</td></tr><tr><td><code>mappedBy</code></td><td><code>(string &amp; keyof T)</code> | <code>(e: T) =&gt; any</code></td><td>yes</td><td>Point to the owning side property name.</td></tr><tr><td><code>orderBy</code></td><td><code>{ [field: string]: QueryOrder }</code></td><td>yes</td><td>Set default ordering condition.</td></tr><tr><td><code>fixedOrder</code></td><td><code>boolean</code></td><td>yes</td><td>Force stable insertion order of items in the collection (see <a href="/docs/3.1/collections#forcing-fixed-order-of-collection-items">Collections</a>).</td></tr><tr><td><code>fixedOrderColumn</code></td><td><code>string</code></td><td>yes</td><td>Override default order column name (<code>id</code>).</td></tr><tr><td><code>pivotTable</code></td><td><code>string</code></td><td>yes</td><td>Override default name for pivot table (see <a href="/docs/3.1/naming-strategy">Naming Strategy</a>).</td></tr><tr><td><code>joinColumn</code></td><td><code>string</code></td><td>yes</td><td>Override default database column name on the owning side (see <a href="/docs/3.1/naming-strategy">Naming Strategy</a>).</td></tr><tr><td><code>inverseJoinColumn</code></td><td><code>string</code></td><td>yes</td><td>Override default database column name on the inverse side (see <a href="/docs/3.1/naming-strategy">Naming Strategy</a>).</td></tr></tbody></table><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-typescript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">ManyToMany</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">entity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">BookTag</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> cascade</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> fixedOrderColumn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;order&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tags </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Collection</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">BookTag</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// m:n with autoincrement PK</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">ManyToMany</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">BookTag</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> undefined</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> pivotTable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;book_to_tag_unordered&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> orderBy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">QueryOrder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">ASC</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tagsUnordered </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Collection</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">BookTag</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// m:n with composite PK</span></div></code></pre></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="lifecycle-hooks"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#lifecycle-hooks" title="Direct link to heading">#</a>Lifecycle Hooks</h2><p>You can use lifecycle hooks to run some code when entity gets persisted. You can mark any of
entity methods with them, you can also mark multiple methods with same hook.</p><blockquote><p>All hooks support async methods with one exception - <code>@OnInit</code>.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="oninit"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#oninit" title="Direct link to heading">#</a>@OnInit()</h3><p>Fired when new instance of entity is created, either manually <code>em.create()</code>, or
automatically when new entities are loaded from database</p><blockquote><p><code>@OnInit</code> is not fired when you create the entity manually via its constructor (<code>new MyEntity()</code>)</p></blockquote><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-typescript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">OnInit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">doStuffOnInit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">fullName</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation keyword" style="font-style:italic">this</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation">firstName</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)"> - </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation keyword" style="font-style:italic">this</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation">lastName</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// initialize shadow property</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="beforecreate"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#beforecreate" title="Direct link to heading">#</a>@BeforeCreate()</h3><p>Fired right before we persist the new entity into the database.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-typescript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">BeforeCreate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">doStuffBeforeCreate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="aftercreate"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#aftercreate" title="Direct link to heading">#</a>@AfterCreate()</h3><p>Fired right after the new entity is created in the database and merged to identity map.
Since this event entity will have reference to <code>EntityManager</code> and will be
enabled to call <code>entity.init()</code> method (including all entity references and collections).</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-typescript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">AfterCreate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">doStuffAfterCreate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="beforeupdate"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#beforeupdate" title="Direct link to heading">#</a>@BeforeUpdate()</h3><p>Fired right before we update the entity in the database.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-typescript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">BeforeUpdate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">doStuffBeforeUpdate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="afterupdate"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#afterupdate" title="Direct link to heading">#</a>@AfterUpdate()</h3><p>Fired right after the entity is updated in the database. </p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-typescript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">AfterUpdate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">doStuffAfterUpdate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="beforedelete"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#beforedelete" title="Direct link to heading">#</a>@BeforeDelete()</h3><p>Fired right before we delete the record from database. It is fired only when
removing entity or entity reference, not when deleting records by query. </p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-typescript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">BeforeDelete</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">doStuffBeforeDelete</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="afterdelete"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#afterdelete" title="Direct link to heading">#</a>@AfterDelete()</h3><p>Fired right after the record gets deleted from database and it is unset from the identity map.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-typescript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">AfterDelete</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">doStuffAfterDelete</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="entity-repository"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#entity-repository" title="Direct link to heading">#</a>Entity Repository</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="repository"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#repository" title="Direct link to heading">#</a>@Repository()</h3><p>Used to register custom entity repository. </p><blockquote><p><code>em.getRepository()</code> will automatically return custom repository if it is registered.</p></blockquote><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-typescript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">Repository</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">Author</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">CustomAuthorRepository</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">EntityRepository</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">Author</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// your custom methods...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/mikro-orm/mikro-orm/edit/master/docs/versioned_docs/version-3.1/decorators.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/3.1/deployment"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label"> Deployment</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/3.1/nested-populate"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">Smart Nested Populate </h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#entity-definition" class="contents__link">Entity Definition</a><ul><li><a href="#entity" class="contents__link">@Entity()</a></li></ul></li><li><a href="#entity-properties" class="contents__link">Entity Properties</a><ul><li><a href="#property" class="contents__link">@Property()</a></li><li><a href="#primarykey" class="contents__link">@PrimaryKey()</a></li><li><a href="#serializedprimarykey" class="contents__link">@SerializedPrimaryKey()</a></li><li><a href="#enum" class="contents__link">@Enum()</a></li></ul></li><li><a href="#entity-relationships" class="contents__link">Entity Relationships</a><ul><li><a href="#manytoone" class="contents__link">@ManyToOne()</a></li><li><a href="#onetoone" class="contents__link">@OneToOne()</a></li><li><a href="#onetomany" class="contents__link">@OneToMany()</a></li><li><a href="#manytomany" class="contents__link">@ManyToMany()</a></li></ul></li><li><a href="#lifecycle-hooks" class="contents__link">Lifecycle Hooks</a><ul><li><a href="#oninit" class="contents__link">@OnInit()</a></li><li><a href="#beforecreate" class="contents__link">@BeforeCreate()</a></li><li><a href="#aftercreate" class="contents__link">@AfterCreate()</a></li><li><a href="#beforeupdate" class="contents__link">@BeforeUpdate()</a></li><li><a href="#afterupdate" class="contents__link">@AfterUpdate()</a></li><li><a href="#beforedelete" class="contents__link">@BeforeDelete()</a></li><li><a href="#afterdelete" class="contents__link">@AfterDelete()</a></li></ul></li><li><a href="#entity-repository" class="contents__link">Entity Repository</a><ul><li><a href="#repository" class="contents__link">@Repository()</a></li></ul></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/installation">Installation &amp; Usage</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/mikro-orm/mikro-orm#-quick-start">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/upgrading-v2-to-v3">Migration from v2 to v3</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/2.7/installation">Version 2.7 docs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://join.slack.com/t/mikroorm/shared_invite/enQtNTM1ODYzMzM4MDk3LWM4ZDExMjU5ZDhmNjA2MmM3MWMwZmExNjhhNDdiYTMwNWM0MGY5ZTE3ZjkyZTMzOWExNDgyYmMzNDE1NDI5NjA">Slack</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/ask?tags=mikro-orm">Stack Overflow</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" to="https://twitter.com/B4nan" href="https://twitter.com/B4nan">Twitter</a></li><iframe src="https://ghbtns.com/github-btn.html?user=mikro-orm&amp;repo=mikro-orm&amp;type=star&amp;count=true" style="margin-top:10px" frameborder="0" scrolling="0" width="100" height="30" title="GitHub Stars"></iframe></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><img class="footer__logo" alt="MikroORM" src="/img/logo-header.svg"></div>Copyright  2018-2020 Martin Admek. Built with Docusaurus. Icons made by <a href="https://www.flaticon.com/authors/surang" title="surang">surang</a> and <a href="https://www.flaticon.com/authors/skyclick" title="Skyclick">Skyclick</a>.</div></div></footer>
</div>

<script src="/styles.65ce5485.js"></script>

<script src="/runtime~main.e6ff1974.js"></script>

<script src="/main.4836d4ca.js"></script>

<script src="/1.17a64e7d.js"></script>

<script src="/2.2e095f5c.js"></script>

<script src="/3.8e1b729f.js"></script>

<script src="/1be78505.f3b228ab.js"></script>

<script src="/171a0aca.66eb5a48.js"></script>

<script src="/17896441.95600a8b.js"></script>

<script src="/960a2722.7f9fe922.js"></script>


</body>
</html>
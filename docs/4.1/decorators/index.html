<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-135618258-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-135618258-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="MikroORM" href="/opensearch.xml">
<script src="/js/custom.js"></script><title data-react-helmet="true">Decorators | MikroORM</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="4.1"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-4.1"><meta data-react-helmet="true" property="og:title" content="Decorators | MikroORM"><meta data-react-helmet="true" name="description" content="Entity Definition"><meta data-react-helmet="true" property="og:description" content="Entity Definition"><meta data-react-helmet="true" property="og:url" content="https://mikro-orm.io/docs/4.1/decorators"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://mikro-orm.io/docs/4.1/decorators"><link rel="stylesheet" href="/styles.3d8bf078.css">
<link rel="preload" href="/styles.6a90af4d.js" as="script">
<link rel="preload" href="/runtime~main.6e890c44.js" as="script">
<link rel="preload" href="/main.1efd0a6e.js" as="script">
<link rel="preload" href="/1.4537f0d7.js" as="script">
<link rel="preload" href="/2.a9e3adf9.js" as="script">
<link rel="preload" href="/01a85c17.1a6f7ca2.js" as="script">
<link rel="preload" href="/1be78505.c88da37f.js" as="script">
<link rel="preload" href="/6875c492.287253a6.js" as="script">
<link rel="preload" href="/a6aa9e1f.7c0f13a7.js" as="script">
<link rel="preload" href="/c4f5d8e4.dd68a2f8.js" as="script">
<link rel="preload" href="/ccc49370.07bf2ada.js" as="script">
<link rel="preload" href="/d07d88d7.130763a3.js" as="script">
<link rel="preload" href="/747.ce7cf7e1.js" as="script">
<link rel="preload" href="/746.56f6ebb5.js" as="script">
<link rel="preload" href="/d4a334ea.248c968d.js" as="script">
<link rel="preload" href="/17896441.77cf14b5.js" as="script">
<link rel="preload" href="/c208984b.b6481105.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top navbarHideable_3046"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="MikroORM"><strong class="navbar__title"></strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/docs/4.1/installation">4.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/decorators">Next</a></li><li><a class="dropdown__link" href="/docs/decorators">4.2</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/4.1/decorators">4.1</a></li><li><a class="dropdown__link" href="/docs/4.0/decorators">4.0</a></li><li><a class="dropdown__link" href="/docs/3.6/decorators">3.6</a></li><li><a class="dropdown__link" href="/docs/2.7/installation">2.7</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/installation">Docs</a><a class="navbar__item navbar__link" href="/docs/api">API</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" data-type="versions" href="/versions">latest: v4.2.3</a><a href="https://join.slack.com/t/mikroorm/shared_invite/enQtNTM1ODYzMzM4MDk3LWM4ZDExMjU5ZDhmNjA2MmM3MWMwZmExNjhhNDdiYTMwNWM0MGY5ZTE3ZjkyZTMzOWExNDgyYmMzNDE1NDI5NjA" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" title="Chat on Slack">Slack</a><a href="https://github.com/mikro-orm/mikro-orm" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" title="View on GitHub">GitHub</a><a href="https://twitter.com/MikroORM" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" title="Twitter">Twitter</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="MikroORM"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/next/decorators">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/decorators">4.2</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/4.1/decorators">4.1</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/4.0/decorators">4.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.6/decorators">3.6</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/2.7/installation">2.7</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/installation">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/api">API</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" data-type="versions" href="/versions">latest: v4.2.3</a></li><li class="menu__list-item"><a href="https://join.slack.com/t/mikroorm/shared_invite/enQtNTM1ODYzMzM4MDk3LWM4ZDExMjU5ZDhmNjA2MmM3MWMwZmExNjhhNDdiYTMwNWM0MGY5ZTE3ZjkyZTMzOWExNDgyYmMzNDE1NDI5NjA" target="_blank" rel="noopener noreferrer" class="menu__link" title="Chat on Slack">Slack</a></li><li class="menu__list-item"><a href="https://github.com/mikro-orm/mikro-orm" target="_blank" rel="noopener noreferrer" class="menu__link" title="View on GitHub">GitHub</a></li><li class="menu__list-item"><a href="https://twitter.com/MikroORM" target="_blank" rel="noopener noreferrer" class="menu__link" title="Twitter">Twitter</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC sidebarWithHideableNavbar_2IoJ"><a tabindex="-1" class="sidebarLogo_Snse" href="/"><img src="/img/logo.svg" alt="MikroORM"><strong></strong></a><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/installation">Installation &amp; Usage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/defining-entities">Defining Entities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/relationships">Modeling Entity Relationships</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/entity-manager">Entity Manager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/unit-of-work">Unit of Work</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Fundamentals</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/identity-map">Identity Map and Request Context</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/entity-references">Entity References and Reference&lt;T&gt; Wrapper</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/collections">Collections</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/repositories">Entity Repository</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/transactions">Transactions and Concurrency</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/inheritance-mapping">Inheritance Mapping</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/cascading">Cascading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/filters">Filters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/deployment">Deployment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/query-builder">Using Query Builder</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/debugging">Logging</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Advanced Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/nested-populate">Smart Nested Populate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/query-conditions">Smart Query Conditions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/propagation">Propagation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/serializing">Serializing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/entity-helper">Updating Entity Values</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/property-validation">Property Validation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/lifecycle-hooks">Hooks and Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/loading-strategies">Loading Strategies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/naming-strategy">Naming Strategy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/composite-keys">Composite Primary Keys</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/custom-types">Custom Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/embeddables">Embeddables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/entity-schema">Defining Entities via EntitySchema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/metadata-providers">Metadata Providers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/metadata-cache">Metadata Cache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/schema-generator">Schema Generator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/entity-generator">Entity Generator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/migrations">Migrations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/read-connections">Read Replica Connections</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4.1/entity-manager-api">EntityManager API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4.1/repositories-api">EntityRepository API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4.1/query-builder-api">Query Builder API</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/4.1/decorators">Decorators</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4.1/configuration">Configuration</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Usage with Different Drivers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/usage-with-sql">Usage with SQL Drivers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/usage-with-mongo">Usage with MongoDB</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Recipes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/quick-start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/usage-with-nestjs">Usage with NestJS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/usage-with-js">Usage with Vanilla JS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/entity-constructors">Using Entity Constructors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/multiple-schemas">Using Multiple Schemas</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/using-bigint-pks">Using native BigInt PKs (MySQL and PostgreSQL)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/async-local-storage">Using AsyncLocalStorage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.1/custom-driver">Creating Custom Driver</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Example Integrations</a><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/mikro-orm/express-ts-example-app" target="_blank" rel="noreferrer noopener" class="menu__link" tabindex="-1">Express + MongoDB + TypeScript</a></li><li class="menu__list-item"><a href="https://github.com/mikro-orm/nestjs-example-app" target="_blank" rel="noreferrer noopener" class="menu__link" tabindex="-1">NestJS + MySQL + TypeScript</a></li><li class="menu__list-item"><a href="https://github.com/mikro-orm/nestjs-realworld-example-app" target="_blank" rel="noreferrer noopener" class="menu__link" tabindex="-1">RealWorld example app (Nest + MySQL)</a></li><li class="menu__list-item"><a href="https://github.com/mikro-orm/express-js-example-app" target="_blank" rel="noreferrer noopener" class="menu__link" tabindex="-1">Express + MongoDB + JavaScript</a></li><li class="menu__list-item"><a href="https://github.com/mikro-orm/koa-ts-example-app" target="_blank" rel="noreferrer noopener" class="menu__link" tabindex="-1">Koa + SQLite + JavaScript</a></li><li class="menu__list-item"><a href="https://github.com/PodaruDragos/inversify-example-app" target="_blank" rel="noreferrer noopener" class="menu__link" tabindex="-1">Inversify + PostgreSQL</a></li><li class="menu__list-item"><a href="https://github.com/jonahallibone/mikro-orm-nextjs" target="_blank" rel="noreferrer noopener" class="menu__link" tabindex="-1">NextJS + MySQL</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for MikroORM <strong>4.1</strong>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/docs/decorators">latest version</a></strong> (4.2).</div></div><div class="docItemContainer_3QWW"><article><div><span class="badge badge--secondary">Version: 4.1</span></div><header><h1 class="docTitle_1Lrw">Decorators</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="entity-definition"></a>Entity Definition<a aria-hidden="true" tabindex="-1" class="hash-link" href="#entity-definition" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="entity"></a>@Entity()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#entity" title="Direct link to heading">#</a></h3><p><code>@Entity</code> decorator is used to mark your model classes as entities. Do not use it for
abstract base classes.</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Optional</th><th>Description</th></tr></thead><tbody><tr><td><code>tableName</code></td><td><code>string</code></td><td>yes</td><td>Override default collection/table name.</td></tr><tr><td><code>collection</code></td><td><code>string</code></td><td>yes</td><td>Alias for <code>tableName</code>.</td></tr><tr><td><code>comment</code></td><td><code>string</code></td><td>yes</td><td>Specify comment to table <strong>(SQL only)</strong></td></tr><tr><td><code>customRepository</code></td><td><code>() =&gt; EntityRepository</code></td><td>yes</td><td>Set custom repository class.</td></tr></tbody></table><blockquote><p>You can also use <code>@Repository()</code> decorator instead of <code>customRepository</code> parameter.</p></blockquote><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Entity</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> tableName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;authors&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Author</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="entity-properties"></a>Entity Properties<a aria-hidden="true" tabindex="-1" class="hash-link" href="#entity-properties" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="property"></a>@Property()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#property" title="Direct link to heading">#</a></h3><p><code>@Property()</code> decorator is used to define regular entity property. All following decorators
extend the <code>@Property()</code> decorator, so you can also use its parameters there. </p><table><thead><tr><th>Parameter</th><th>Type</th><th>Optional</th><th>Description</th></tr></thead><tbody><tr><td><code>fieldName</code></td><td><code>string</code></td><td>yes</td><td>Override default property name (see <a href="/docs/4.1/naming-strategy">Naming Strategy</a>).</td></tr><tr><td><code>type</code></td><td><code>string</code> | <code>Type</code></td><td>yes</td><td>Explicitly specify the runtime type (see <a href="/docs/4.1/metadata-providers">Metadata Providers</a> and <a href="/docs/4.1/custom-types">Custom Types</a>).</td></tr><tr><td><code>onUpdate</code></td><td><code>() =&gt; any</code></td><td>yes</td><td>Automatically update the property value every time entity gets updated.</td></tr><tr><td><code>persist</code></td><td><code>boolean</code></td><td>yes</td><td>Set to <code>false</code> to define <a href="/docs/4.1/serializing#shadow-properties">Shadow Property</a>.</td></tr><tr><td><code>hidden</code></td><td><code>boolean</code></td><td>yes</td><td>Set to <code>true</code> to omit the property when <a href="/docs/4.1/serializing">Serializing</a>.</td></tr><tr><td><code>columnType</code></td><td><code>string</code></td><td>yes</td><td>Specify exact database column type for <a href="/docs/4.1/schema-generator">Schema Generator</a>. <strong>(SQL only)</strong></td></tr><tr><td><code>length</code></td><td><code>number</code></td><td>yes</td><td>Length/precision of database column, used for <code>datetime/timestamp/varchar</code> column types for <a href="/docs/4.1/schema-generator">Schema Generator</a>. <strong>(SQL only)</strong></td></tr><tr><td><code>default</code></td><td><code>any</code></td><td>yes</td><td>Specify default column value for <a href="/docs/4.1/schema-generator">Schema Generator</a>. <strong>(SQL only)</strong></td></tr><tr><td><code>unique</code></td><td><code>boolean</code></td><td>yes</td><td>Set column as unique for <a href="/docs/4.1/schema-generator">Schema Generator</a>.. <strong>(SQL only)</strong></td></tr><tr><td><code>nullable</code></td><td><code>boolean</code></td><td>yes</td><td>Set column as nullable for <a href="/docs/4.1/schema-generator">Schema Generator</a>.. <strong>(SQL only)</strong></td></tr><tr><td><code>unsigned</code></td><td><code>boolean</code></td><td>yes</td><td>Set column as unsigned for <a href="/docs/4.1/schema-generator">Schema Generator</a>.. <strong>(SQL only)</strong></td></tr><tr><td><code>comment</code></td><td><code>string</code></td><td>yes</td><td>Specify comment of column for <a href="/docs/4.1/schema-generator">Schema Generator</a>.. <strong>(SQL only)</strong></td></tr><tr><td><code>version</code></td><td><code>boolean</code></td><td>yes</td><td>Set to true to enable <a href="/docs/4.1/transactions#optimistic-locking">Optimistic Locking</a>. <strong>(SQL only)</strong></td></tr></tbody></table><blockquote><p>You can use property initializers as usual.</p></blockquote><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> length</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fieldName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;first_name&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">name</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> columnType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;datetime&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fieldName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;born_date&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">born</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Date</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> columnType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tinyint&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">age</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">onUpdate</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">updatedAt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">registered </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="primarykey"></a>@PrimaryKey()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#primarykey" title="Direct link to heading">#</a></h3><p><code>@PrimaryKey()</code> decorator is used to define entity&#x27;s unique primary key identifier. </p><blockquote><p><code>@PrimaryKey()</code> decorator extend the <code>@Property()</code> decorator, so you can use all
its parameters.</p></blockquote><blockquote><p>Every entity needs to have at least one primary key (see composite primary keys).</p></blockquote><blockquote><p>Note that if only one PrimaryKey is set and it&#x27;s type is number it will be set to auto incremented automatically in all SQL drivers. </p></blockquote><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">PrimaryKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">id</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// auto increment PK in SQL drivers</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">PrimaryKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">uuid </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> uuid</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">v4</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// uuid PK in SQL drivers</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">PrimaryKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">_id</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">ObjectId</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// ObjectId PK in mongodb driver</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="serializedprimarykey"></a>@SerializedPrimaryKey()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#serializedprimarykey" title="Direct link to heading">#</a></h3><blockquote><p>Property marked with <code>@SerializedPrimaryKey()</code> is virtual, it will not be persisted
into the database.</p></blockquote><p>For MongoDB you can define serialized primary key, which will be then used in entity
serialization via <code>JSON.stringify()</code> (through method <code>entity.toJSON()</code>).
You will be able to use it to manipulate with the primary key as string. </p><p>See <a href="/docs/4.1/usage-with-mongo">Usage with MongoDH</a> and <a href="/docs/4.1/serializing">Serializing</a>.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">PrimaryKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">_id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">ObjectId</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">SerializedPrimaryKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">id</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="enum"></a>@Enum()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#enum" title="Direct link to heading">#</a></h3><blockquote><p><code>@Enum()</code> decorator extend the <code>@Property()</code> decorator, so you can use all its
parameters.</p></blockquote><p><code>@Enum()</code> decorator can be used for both numeric and string enums. By default enums are
considered numeric, and will be represented in the database schema as <code>tinyint/smallint</code>.
For string enums, if you define the enum in same file, its values will be automatically
sniffed. </p><p>See <a href="/docs/4.1/defining-entities#enums">Defining Entities</a>.</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Optional</th><th>Description</th></tr></thead><tbody><tr><td><code>items</code></td><td><code>number[]</code> | <code>string[]</code> | <code>() =&gt; Dictionary</code></td><td>yes</td><td>Specify enum items explicitly.</td></tr></tbody></table><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Enum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// with ts-morph metadata provider we do not need to specify anything</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">enum0 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">MyEnum1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">VALUE_1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Enum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">MyEnum1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// or @Enum({ items: () =&gt; MyEnum1 })</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">enum1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">MyEnum1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">VALUE_1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Enum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;MyEnum2&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> nullable</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">enum2</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">MyEnum2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// MyEnum2 needs to be defined in current file (can be re-exported)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Enum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> items</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">enum3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Enum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> items</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;a&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;b&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;c&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">enum4 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;a&#x27;</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="formula"></a>@Formula()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#formula" title="Direct link to heading">#</a></h3><p><code>@Formula()</code> decorator can be used to map some SQL snippet to your entity.
The SQL fragment can be as complex as you want and even include subselects.</p><p>See <a href="/docs/4.1/defining-entities#formulas">Defining Entities</a>.</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Optional</th><th>Description</th></tr></thead><tbody><tr><td><code>formula</code></td><td><code>string</code> | <code>() =&gt; string</code></td><td>no</td><td>SQL fragment that will be part of the select clause.</td></tr></tbody></table><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Formula</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;obj_length * obj_height * obj_width&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">objectVolume</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="index-and-unique"></a>@Index() and @Unique()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#index-and-unique" title="Direct link to heading">#</a></h3><p>Use <code>@Index()</code> to create an index, or <code>@Unique()</code> to create unique constraint. You can
use those decorators both on the entity level and on property level. To create compound
index, use the decorator on the entity level and provide list of property names via the
<code>properties</code> option.</p><p>See <a href="/docs/4.1/defining-entities#indexes">Defining Entities</a>.</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Optional</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td><code>string</code></td><td>yes</td><td>index name</td></tr><tr><td><code>properties</code></td><td><code>string</code> | <code>string[]</code></td><td>yes</td><td>list of properties, required when using on entity level</td></tr><tr><td><code>type</code></td><td><code>string</code></td><td>yes</td><td>index type, not available for <code>@Unique()</code></td></tr></tbody></table><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Entity</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Index</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> properties</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;age&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// compound index, with generated name</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Index</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;custom_idx_name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> properties</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// simple index, with custom name</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Unique</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> properties</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;email&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Author</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  @</span><span class="token function maybe-class-name" style="color:#d73a49">Property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  @</span><span class="token function maybe-class-name" style="color:#d73a49">Unique</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  email</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  @</span><span class="token function maybe-class-name" style="color:#d73a49">Index</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// generated name</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  @</span><span class="token function maybe-class-name" style="color:#d73a49">Property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  age</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  @</span><span class="token function maybe-class-name" style="color:#d73a49">Index</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;born_index&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  @</span><span class="token function maybe-class-name" style="color:#d73a49">Property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  born</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Date</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="entity-relationships"></a>Entity Relationships<a aria-hidden="true" tabindex="-1" class="hash-link" href="#entity-relationships" title="Direct link to heading">#</a></h2><p>All relationship decorators have <code>entity</code>, <code>cascade</code> and <code>eager</code> optional parameters.
If you use the default <code>ReflectMetadataProvider</code>, then <code>entity</code> parameter might be required
You will be warned about it being not defined while required during discovery process if you
use <code>ReflectMetadataProvider</code>. </p><p>You can also use <code>type</code> parameter instead of it - the difference being that <code>type</code> parameter
needs to be string, while in <code>entity</code> parameter you can provide a reference (wrapped in
a callback to overcome issues with circular dependencies) to the entity, which plays nice
with refactoring features in IDEs like WebStorm. </p><blockquote><p>If you explicitly provide <code>entity</code> as a reference, it will enable type checks for other
reference parameters like <code>inversedBy</code> or <code>mappedBy</code>.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="manytoone"></a>@ManyToOne()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#manytoone" title="Direct link to heading">#</a></h3><blockquote><p><code>@ManyToOne()</code> decorator extend the <code>@Property()</code> decorator, so you can use all
its parameters.</p></blockquote><p>Many instances of the current Entity refer to One instance of the referred Entity.</p><p>See <a href="/docs/4.1/relationships#manytoone">Defining Entities</a> for more examples.</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Optional</th><th>Description</th></tr></thead><tbody><tr><td><code>entity</code></td><td><code>string</code> | <code>() =&gt; EntityName</code></td><td>yes</td><td>Set target entity type.</td></tr><tr><td><code>cascade</code></td><td><code>Cascade[]</code></td><td>yes</td><td>Set what actions on owning entity should be cascaded to the relationship. Defaults to <code>[Cascade.PERSIST, Cascade.MERGE]</code> (see <a href="/docs/4.1/cascading">Cascading</a>).</td></tr><tr><td><code>eager</code></td><td><code>boolean</code></td><td>yes</td><td>Always load the relationship.</td></tr><tr><td><code>inversedBy</code></td><td><code>(string &amp; keyof T) </code> | <code> (e: T) =&gt; any</code></td><td>yes</td><td>Point to the inverse side property name.</td></tr><tr><td><code>wrappedReference</code></td><td><code>boolean</code></td><td>yes</td><td>Wrap the entity in <a href="/docs/4.1/entity-references"><code>Reference</code> wrapper</a>.</td></tr><tr><td><code>onDelete</code></td><td><code>string</code></td><td>yes</td><td><a href="/docs/4.1/cascading#declarative-referential-integrity">Referential integrity</a>.</td></tr><tr><td><code>onUpdateIntegrity</code></td><td><code>string</code></td><td>yes</td><td><a href="/docs/4.1/cascading#declarative-referential-integrity">Referential integrity</a>.</td></tr></tbody></table><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">ManyToOne</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">author1</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Author</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// type taken via reflection (TsMorphMetadataProvider)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">ManyToOne</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Author</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// explicit type</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">author2</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Author</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">ManyToOne</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">entity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Author</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cascade</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token maybe-class-name">Cascade</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">ALL</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// options object</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">author3</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Author</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="onetoone"></a>@OneToOne()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#onetoone" title="Direct link to heading">#</a></h3><blockquote><p><code>@OneToOne()</code> decorator extend the <code>@Property()</code> decorator, so you can use all
its parameters.</p></blockquote><p>One instance of the current Entity refers to One instance of the referred Entity.</p><p>See <a href="/docs/4.1/relationships#onetoone">Defining Entities</a> for more examples, including bi-directional 1:1.</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Optional</th><th>Description</th></tr></thead><tbody><tr><td><code>entity</code></td><td><code>string</code> | <code>() =&gt; EntityName</code></td><td>yes</td><td>Set target entity type.</td></tr><tr><td><code>cascade</code></td><td><code>Cascade[]</code></td><td>yes</td><td>Set what actions on owning entity should be cascaded to the relationship. Defaults to <code>[Cascade.PERSIST, Cascade.MERGE]</code> (see <a href="/docs/4.1/cascading">Cascading</a>).</td></tr><tr><td><code>eager</code></td><td><code>boolean</code></td><td>yes</td><td>Always load the relationship.</td></tr><tr><td><code>owner</code></td><td><code>boolean</code></td><td>yes</td><td>Explicitly set as owning side (same as providing <code>inversedBy</code>).</td></tr><tr><td><code>inversedBy</code></td><td><code>(string &amp; keyof T) </code> | <code> (e: T) =&gt; any</code></td><td>yes</td><td>Point to the inverse side property name.</td></tr><tr><td><code>mappedBy</code></td><td><code>(string &amp; keyof T)</code> | <code>(e: T) =&gt; any</code></td><td>yes</td><td>Point to the owning side property name.</td></tr><tr><td><code>wrappedReference</code></td><td><code>boolean</code></td><td>yes</td><td>Wrap the entity in <a href="/docs/4.1/entity-references"><code>Reference</code> wrapper</a>.</td></tr><tr><td><code>orphanRemoval</code></td><td><code>boolean</code></td><td>yes</td><td>Remove the entity when it gets disconnected from the relationship (see <a href="/docs/4.1/cascading#orphan-removal">Cascading</a>).</td></tr><tr><td><code>joinColumn</code></td><td><code>string</code></td><td>yes</td><td>Override default database column name on the owning side (see <a href="/docs/4.1/naming-strategy">Naming Strategy</a>).</td></tr><tr><td><code>onDelete</code></td><td><code>string</code></td><td>yes</td><td><a href="/docs/4.1/cascading#declarative-referential-integrity">Referential integrity</a>.</td></tr><tr><td><code>onUpdateIntegrity</code></td><td><code>string</code></td><td>yes</td><td><a href="/docs/4.1/cascading#declarative-referential-integrity">Referential integrity</a>.</td></tr></tbody></table><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// when none of `owner/inverseBy/mappedBy` is provided, it will be considered owning side</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">OneToOne</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">bestFriend1</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// side with `inversedBy` is the owning one, to define inverse side use `mappedBy`</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">OneToOne</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> inversedBy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bestFriend1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> orphanRemoval</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">bestFriend2</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// when defining it like this, you need to specifically mark the owning side with `owner: true`</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">OneToOne</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token parameter">user</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">bestFriend2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> owner</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> orphanRemoval</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">bestFriend3</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="onetomany"></a>@OneToMany()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#onetomany" title="Direct link to heading">#</a></h3><blockquote><p><code>@OneToMany()</code> decorator extend the <code>@Property()</code> decorator, so you can use all
its parameters.</p></blockquote><p>One instance of the current Entity has Many instances (references) to the referred Entity.</p><p>See <a href="/docs/4.1/relationships#onetomany">Defining Entities</a> for more examples, including bi-directional 1:m.</p><blockquote><p>You need to initialize the value with <code>Collection&lt;T&gt;</code> instance.</p></blockquote><table><thead><tr><th>Parameter</th><th>Type</th><th>Optional</th><th>Description</th></tr></thead><tbody><tr><td><code>mappedBy</code></td><td><code>(string &amp; keyof T)</code> | <code>(e: T) =&gt; any</code></td><td>no</td><td>Point to the owning side property name.</td></tr><tr><td><code>entity</code></td><td><code>string</code> | <code>() =&gt; EntityName</code></td><td>yes</td><td>Set target entity type.</td></tr><tr><td><code>cascade</code></td><td><code>Cascade[]</code></td><td>yes</td><td>Set what actions on owning entity should be cascaded to the relationship. Defaults to <code>[Cascade.PERSIST, Cascade.MERGE]</code> (see <a href="/docs/4.1/cascading">Cascading</a>).</td></tr><tr><td><code>eager</code></td><td><code>boolean</code></td><td>yes</td><td>Always load the relationship.</td></tr><tr><td><code>orphanRemoval</code></td><td><code>boolean</code></td><td>yes</td><td>Remove the entity when it gets disconnected from the connection (see <a href="/docs/4.1/cascading#orphan-removal">Cascading</a>).</td></tr><tr><td><code>orderBy</code></td><td><code>{ [field: string]: QueryOrder }</code></td><td>yes</td><td>Set default ordering condition.</td></tr><tr><td><code>joinColumn</code></td><td><code>string</code></td><td>yes</td><td>Override default database column name on the owning side (see <a href="/docs/4.1/naming-strategy">Naming Strategy</a>).</td></tr><tr><td><code>inverseJoinColumn</code></td><td><code>string</code></td><td>yes</td><td>Override default database column name on the inverse side (see <a href="/docs/4.1/naming-strategy">Naming Strategy</a>).</td></tr></tbody></table><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">OneToMany</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Book</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token parameter">book</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">author</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">books1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Collection</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Book</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">OneToMany</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> mappedBy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;author&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cascade</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token maybe-class-name">Cascade</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">ALL</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">books2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Collection</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Book</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// target entity type can be read via `TsMorphMetadataProvider` too</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="manytomany"></a>@ManyToMany()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#manytomany" title="Direct link to heading">#</a></h3><blockquote><p><code>@ManyToMany()</code> decorator extend the <code>@Property()</code> decorator, so you can use all
its parameters.</p></blockquote><p>Many instances of the current Entity refers to Many instances of the referred Entity.</p><p>See <a href="/docs/4.1/relationships#manytomany">Defining Entities</a> for more examples, including bi-directional m:n.</p><blockquote><p>You need to initialize the value with <code>Collection&lt;T&gt;</code> instance.</p></blockquote><table><thead><tr><th>Parameter</th><th>Type</th><th>Optional</th><th>Description</th></tr></thead><tbody><tr><td><code>entity</code></td><td><code>string</code> | <code>() =&gt; EntityName</code></td><td>yes</td><td>Set target entity type.</td></tr><tr><td><code>cascade</code></td><td><code>Cascade[]</code></td><td>yes</td><td>Set what actions on owning entity should be cascaded to the relationship. Defaults to <code>[Cascade.PERSIST, Cascade.MERGE]</code> (see <a href="/docs/4.1/cascading">Cascading</a>).</td></tr><tr><td><code>eager</code></td><td><code>boolean</code></td><td>yes</td><td>Always load the relationship.</td></tr><tr><td><code>owner</code></td><td><code>boolean</code></td><td>yes</td><td>Explicitly set as owning side (same as providing <code>inversedBy</code>).</td></tr><tr><td><code>inversedBy</code></td><td><code>(string &amp; keyof T) </code> | <code> (e: T) =&gt; any</code></td><td>yes</td><td>Point to the inverse side property name.</td></tr><tr><td><code>mappedBy</code></td><td><code>(string &amp; keyof T)</code> | <code>(e: T) =&gt; any</code></td><td>yes</td><td>Point to the owning side property name.</td></tr><tr><td><code>orderBy</code></td><td><code>{ [field: string]: QueryOrder }</code></td><td>yes</td><td>Set default ordering condition.</td></tr><tr><td><code>fixedOrder</code></td><td><code>boolean</code></td><td>yes</td><td>Force stable insertion order of items in the collection (see <a href="/docs/4.1/collections#forcing-fixed-order-of-collection-items">Collections</a>).</td></tr><tr><td><code>fixedOrderColumn</code></td><td><code>string</code></td><td>yes</td><td>Override default order column name (<code>id</code>).</td></tr><tr><td><code>pivotTable</code></td><td><code>string</code></td><td>yes</td><td>Override default name for pivot table (see <a href="/docs/4.1/naming-strategy">Naming Strategy</a>).</td></tr><tr><td><code>joinColumn</code></td><td><code>string</code></td><td>yes</td><td>Override default database column name on the owning side (see <a href="/docs/4.1/naming-strategy">Naming Strategy</a>).</td></tr><tr><td><code>inverseJoinColumn</code></td><td><code>string</code></td><td>yes</td><td>Override default database column name on the inverse side (see <a href="/docs/4.1/naming-strategy">Naming Strategy</a>).</td></tr></tbody></table><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">ManyToMany</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">entity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">BookTag</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cascade</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fixedOrderColumn</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;order&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">tags </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Collection</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">BookTag</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// m:n with autoincrement PK</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">ManyToMany</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">BookTag</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> undefined</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> pivotTable</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;book_to_tag_unordered&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> orderBy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">QueryOrder</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">ASC</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">tagsUnordered </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Collection</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">BookTag</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// m:n with composite PK</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="lifecycle-hooks"></a>Lifecycle Hooks<a aria-hidden="true" tabindex="-1" class="hash-link" href="#lifecycle-hooks" title="Direct link to heading">#</a></h2><p>You can use lifecycle hooks to run some code when entity gets persisted. You can mark any of
entity methods with them, you can also mark multiple methods with same hook.</p><blockquote><p>All hooks support async methods with one exception - <code>@OnInit</code>.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="oninit"></a>@OnInit()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#oninit" title="Direct link to heading">#</a></h3><p>Fired when new instance of entity is created, either manually <code>em.create()</code>, or
automatically when new entities are loaded from database</p><blockquote><p><code>@OnInit</code> is not fired when you create the entity manually via its constructor (<code>new MyEntity()</code>)</p></blockquote><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">OnInit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">doStuffOnInit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">fullName</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation keyword" style="color:#00009f">this</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">firstName</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> - </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation keyword" style="color:#00009f">this</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">lastName</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// initialize shadow property</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="beforecreate"></a>@BeforeCreate()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#beforecreate" title="Direct link to heading">#</a></h3><p>Fired right before we persist the new entity into the database.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">BeforeCreate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">doStuffBeforeCreate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="aftercreate"></a>@AfterCreate()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#aftercreate" title="Direct link to heading">#</a></h3><p>Fired right after the new entity is created in the database and merged to identity map.
Since this event entity will have reference to <code>EntityManager</code> and will be
enabled to call <code>entity.init()</code> method (including all entity references and collections).</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">AfterCreate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">doStuffAfterCreate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="beforeupdate"></a>@BeforeUpdate()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#beforeupdate" title="Direct link to heading">#</a></h3><p>Fired right before we update the entity in the database.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">BeforeUpdate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">doStuffBeforeUpdate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="afterupdate"></a>@AfterUpdate()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#afterupdate" title="Direct link to heading">#</a></h3><p>Fired right after the entity is updated in the database. </p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">AfterUpdate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">doStuffAfterUpdate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="beforedelete"></a>@BeforeDelete()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#beforedelete" title="Direct link to heading">#</a></h3><p>Fired right before we delete the record from database. It is fired only when
removing entity or entity reference, not when deleting records by query. </p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">BeforeDelete</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">doStuffBeforeDelete</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="afterdelete"></a>@AfterDelete()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#afterdelete" title="Direct link to heading">#</a></h3><p>Fired right after the record gets deleted from database and it is unset from the identity map.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">AfterDelete</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">doStuffAfterDelete</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="entity-repository"></a>Entity Repository<a aria-hidden="true" tabindex="-1" class="hash-link" href="#entity-repository" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="repository"></a>@Repository()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#repository" title="Direct link to heading">#</a></h3><p>Used to register custom entity repository. </p><blockquote><p><code>em.getRepository()</code> will automatically return custom repository if it is registered.</p></blockquote><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Repository</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">Author</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">CustomAuthorRepository</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">EntityRepository</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Author</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// your custom methods...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="event-subscriber"></a>Event Subscriber<a aria-hidden="true" tabindex="-1" class="hash-link" href="#event-subscriber" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="subscriber"></a>@Subscriber()<a aria-hidden="true" tabindex="-1" class="hash-link" href="#subscriber" title="Direct link to heading">#</a></h3><p>Used to register an event subscriber. Keep in mind that you need to make sure the file
gets loaded in order to make this decorator registration work (e.g. you import that file
explicitly somewhere).</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-typescript codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Subscriber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">AuthorSubscriber</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">implements</span><span class="token plain"> </span><span class="token class-name">EventSubscriber</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Author</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/mikro-orm/mikro-orm/edit/master/docs/versioned_docs/version-4.1/decorators.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2020-11-02T02:27:11.000Z" class="docLastUpdatedAt_217_">11/2/2020</time> by <strong>Renovate Bot</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/4.1/query-builder-api"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Query Builder API</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/4.1/configuration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configuration Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#entity-definition" class="table-of-contents__link">Entity Definition</a><ul><li><a href="#entity" class="table-of-contents__link">@Entity()</a></li></ul></li><li><a href="#entity-properties" class="table-of-contents__link">Entity Properties</a><ul><li><a href="#property" class="table-of-contents__link">@Property()</a></li><li><a href="#primarykey" class="table-of-contents__link">@PrimaryKey()</a></li><li><a href="#serializedprimarykey" class="table-of-contents__link">@SerializedPrimaryKey()</a></li><li><a href="#enum" class="table-of-contents__link">@Enum()</a></li><li><a href="#formula" class="table-of-contents__link">@Formula()</a></li><li><a href="#index-and-unique" class="table-of-contents__link">@Index() and @Unique()</a></li></ul></li><li><a href="#entity-relationships" class="table-of-contents__link">Entity Relationships</a><ul><li><a href="#manytoone" class="table-of-contents__link">@ManyToOne()</a></li><li><a href="#onetoone" class="table-of-contents__link">@OneToOne()</a></li><li><a href="#onetomany" class="table-of-contents__link">@OneToMany()</a></li><li><a href="#manytomany" class="table-of-contents__link">@ManyToMany()</a></li></ul></li><li><a href="#lifecycle-hooks" class="table-of-contents__link">Lifecycle Hooks</a><ul><li><a href="#oninit" class="table-of-contents__link">@OnInit()</a></li><li><a href="#beforecreate" class="table-of-contents__link">@BeforeCreate()</a></li><li><a href="#aftercreate" class="table-of-contents__link">@AfterCreate()</a></li><li><a href="#beforeupdate" class="table-of-contents__link">@BeforeUpdate()</a></li><li><a href="#afterupdate" class="table-of-contents__link">@AfterUpdate()</a></li><li><a href="#beforedelete" class="table-of-contents__link">@BeforeDelete()</a></li><li><a href="#afterdelete" class="table-of-contents__link">@AfterDelete()</a></li></ul></li><li><a href="#entity-repository" class="table-of-contents__link">Entity Repository</a><ul><li><a href="#repository" class="table-of-contents__link">@Repository()</a></li></ul></li><li><a href="#event-subscriber" class="table-of-contents__link">Event Subscriber</a><ul><li><a href="#subscriber" class="table-of-contents__link">@Subscriber()</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/installation">Installation &amp; Usage</a></li><li class="footer__item"><a href="https://github.com/mikro-orm/mikro-orm#-quick-start" target="_blank" rel="noopener noreferrer" class="footer__link-item">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/upgrading-v3-to-v4">Migration from v3 to v4</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/3.6/installation">Version 3.6 docs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://join.slack.com/t/mikroorm/shared_invite/enQtNTM1ODYzMzM4MDk3LWM4ZDExMjU5ZDhmNjA2MmM3MWMwZmExNjhhNDdiYTMwNWM0MGY5ZTE3ZjkyZTMzOWExNDgyYmMzNDE1NDI5NjA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/ask?tags=mikro-orm" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://twitter.com/MikroOrm" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><iframe src="https://ghbtns.com/github-btn.html?user=mikro-orm&amp;repo=mikro-orm&amp;type=star&amp;count=true" style="margin-top:10px" frameborder="0" scrolling="0" width="150" height="30" title="GitHub Stars"></iframe></li><li class="footer__item"><iframe src="https://ghbtns.com/github-btn.html?user=B4nan&amp;type=sponsor" frameborder="0" scrolling="0" width="150" height="30" title="Sponsor B4nan"></iframe></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><img class="footer__logo" alt="MikroORM" src="/img/logo-header.svg"></div>Copyright Â© 2018-2020 Martin AdÃ¡mek. Built with Docusaurus. Icons made by <a href="https://www.flaticon.com/authors/surang" title="surang">surang</a> and <a href="https://www.flaticon.com/authors/skyclick" title="Skyclick">Skyclick</a>.</div></div></footer></div>
<script src="/styles.6a90af4d.js"></script>
<script src="/runtime~main.6e890c44.js"></script>
<script src="/main.1efd0a6e.js"></script>
<script src="/1.4537f0d7.js"></script>
<script src="/2.a9e3adf9.js"></script>
<script src="/01a85c17.1a6f7ca2.js"></script>
<script src="/1be78505.c88da37f.js"></script>
<script src="/6875c492.287253a6.js"></script>
<script src="/a6aa9e1f.7c0f13a7.js"></script>
<script src="/c4f5d8e4.dd68a2f8.js"></script>
<script src="/ccc49370.07bf2ada.js"></script>
<script src="/d07d88d7.130763a3.js"></script>
<script src="/747.ce7cf7e1.js"></script>
<script src="/746.56f6ebb5.js"></script>
<script src="/d4a334ea.248c968d.js"></script>
<script src="/17896441.77cf14b5.js"></script>
<script src="/c208984b.b6481105.js"></script>
</body>
</html>